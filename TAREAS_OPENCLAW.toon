proyecto: ColLawRAG
generado: 2026-02-16
ejecutor: OpenClaw
referencia: DIAGNOSTICO_COMERCIAL_2026-02-16.md
cron_jobs_activos: 3

tareas_inmediatas[4]{id,titulo,trigger,estado,output_esperado}:
  OC-A1,Benchmark accuracy baseline,ahora (antes de cambios Cursor),pendiente,"data/benchmarks/baseline-2026-02-16.json con % accuracy por área"
  OC-A2,Re-ingestar tras CU-01+CU-02,Cursor confirma cambios en ingest.mjs,pendiente,"index.json con >70% chunks con area específica"
  OC-A3,Benchmark post-fix comparativo,tras OC-A2 completado,pendiente,"diferencia accuracy antes/después + notificar a Le'saint"
  OC-A4,Subir índices + re-deploy,tras OC-A2 y accuracy OK,pendiente,"índices en GitHub Releases + vercel --prod"

comandos_inmediatos[4]{id,directorio,comando,nota}:
  OC-A1,/home/lesaint/Documentos/Cursor/ColLawRAG,"node scripts/evaluate-accuracy.mjs --prod --limit 5",requiere CU-00 fix primero
  OC-A2,/home/lesaint/Documentos/Cursor/ColLawRAG,"npm run ingest && npm run build-bm25",requiere CU-01+CU-02 primero
  OC-A3,/home/lesaint/Documentos/Cursor/ColLawRAG,"node scripts/evaluate-accuracy.mjs --prod",comparar con baseline OC-A1
  OC-A4,/home/lesaint/Documentos/Cursor/ColLawRAG,"npm run upload-indices && npx vercel --prod",solo si accuracy mejoró

verificacion_post_ingest[3]{id,descripcion,comando_verificacion,umbral_exito}:
  V1,Chunks con area específica,node -e verificar-areas.js,>70% con area != general/unknown
  V2,Total chunks mayor que antes,wc -c data/index.json,>290MB (>12468 chunks)
  V3,Metadata fuente presente,"node -e verificar-source.js",>60% con source != unknown

cron_jobs[3]{id,nombre,schedule_cron,zona_horaria,tipo,descripcion}:
  OC-B1,Monitoreo diario producción,"5 9 * * *",America/Bogota,isolated,"Health check + 2 queries prueba + alerta si >8s o error"
  OC-B2,Warm-up Vercel,"0 7,13,19 * * *",America/Bogota,isolated,"curl /api/health para evitar cold starts"
  OC-B3,Reporte semanal calidad,"0 8 * * 1",America/Bogota,isolated,"Calidad respuestas + avance roadmap + próximos pasos"

tareas_bajo_demanda[8]{id,titulo,cuando_usar,script,reportar}:
  OC-C1,Scraping jurisprudencia nueva,Aumentar corpus sentencias,node scripts/scrape-jurisprudencia.mjs,Número sentencias nuevas descargadas
  OC-C2,Generar benchmark 100 casos,Evaluación robusta de accuracy,generar QA pairs manualmente,80 preguntas nuevas en qa-abogados.json
  OC-C3,Análisis cobertura corpus,Ver normas faltantes en índice,node inline + ls data/,Lista de normas sin indexar
  OC-C4,Verificar vigencia normas,Detectar normas desactualizadas,node scripts/vigencia-normas.mjs,Normas posiblemente derogadas
  OC-C5,Documentos compliance LPDP,Antes del lanzamiento comercial,generar docs/legal/,3 borradores legales
  OC-C6,Analizar queries reales producción,Con usuarios reales en DB,node inline SQLite/Postgres,Top áreas + queries fallidas
  OC-C7,Test queries complejas,Post cualquier re-ingesta,node scripts/test-complex-queries.mjs,Resultado por tipo de query
  OC-C8,Reporte calidad manual,Bajo demanda,node scripts/generate-quality-report.mjs,Reporte en data/quality-reports/

distribucion_benchmark_100casos[6]{area,preguntas_actuales,preguntas_a_agregar,total_objetivo}:
  laboral,8,17,25
  constitucional,4,16,20
  administrativo,2,13,15
  civil,2,13,15
  penal,2,8,10
  tributario,2,13,15

metricas_a_rastrear[6]{metrica,como_medir,valor_actual,objetivo_sprint1,objetivo_final}:
  accuracy_benchmark,"evaluate-accuracy.mjs --prod","~60% (est)",>85%,>92%
  chunks_area_especifica,node inline index.json,6%,>70%,>95%
  total_chunks,index.json array length,12468,>14000,>25000
  cold_start_segundos,primer request real,10-15,<8,<3
  p95_response_ms,logs monitoreo Vercel,5000-8000,<5000,<4000
  uptime_produccion,health check diario,desconocido,>99%,>99.9%

flujo_con_cursor[8]{paso,actor,accion,esperar_a}:
  1,Cursor,CU-00 fix endpoint evaluate-accuracy,ninguno
  2,OpenClaw,OC-A1 benchmark baseline,CU-00 completado
  3,Cursor,CU-01 fix metadata + frontmatter,paralelo con OC-A1
  4,Cursor,CU-02 reducir chunk size,junto con CU-01
  5,OpenClaw,OC-A2 npm run ingest,CU-01 + CU-02 confirmados
  6,OpenClaw,OC-A3 benchmark post-fix,OC-A2 completado
  7,OpenClaw,OC-A4 upload-indices + deploy,accuracy mejoró >10%
  8,Cursor,CU-03 Postgres en adelante,OC-A4 completado

alertas_monitoreo[4]{condicion,accion,canal}:
  "response_time > 8000ms",notificar a Le'saint con tiempo medido,Telegram
  "health check status != 200",notificar con error completo,Telegram
  "citations = 0 en respuesta RAG",notificar query fallida,Telegram
  "accuracy post-fix < accuracy baseline",notificar urgente con comparativa,Telegram

archivos_referencia[5]{archivo,descripcion,cuando_leer}:
  DIAGNOSTICO_COMERCIAL_2026-02-16.md,Diagnóstico completo + roadmap 4 sprints,siempre
  TAREAS_CURSOR.toon,Tareas de código para Cursor con fixes exactos,cuando Cursor termine tarea
  data/benchmarks/qa-abogados.json,20 casos QA para medir accuracy,antes/después de re-ingesta
  scripts/evaluate-accuracy.mjs,Script de evaluación LLM-as-judge,para OC-A1 y OC-A3
  data/benchmarks/,Directorio con todos los resultados de benchmarks,al reportar métricas
